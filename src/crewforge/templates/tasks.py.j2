"""
CrewAI Tasks Template - Generated by CrewForge

This file contains the task definitions for the {{crew_config.name}} crew.
"""

from crewai import Task


class {{crew_config.name|title|regex_replace('[^a-zA-Z0-9]', '')}}Tasks:
    """Task definitions for {{crew_config.name}} crew."""

{% for task in crew_config.tasks %}
    def {{task.description[:50]|lower|regex_replace('[^a-z0-9\s]', '')|replace(' ', '_')|truncate(30, true, '')}}(self{% for agent in crew_config.agents %}, {{agent.role|lower|regex_replace('[^a-z0-9\s]', '')|replace(' ', '_')|replace('-', '_')}}{% endfor %}):
        """{{task.description|truncate(80, true, '...')}}"""
        return Task(
            description="{{task.description}}",
            expected_output="{{task.expected_output}}",
            agent={{task.agent|lower|regex_replace('[^a-z0-9\s]', '')|replace(' ', '_')|replace('-', '_')}},{% if task.async_execution %}
            async_execution={{task.async_execution|lower}},{% endif %}{% if task.context %}
            context={{task.context}},{% endif %}{% if task.tools %}
            tools=[{{task.tools|join(', ')}}],{% endif %}{% if task.output_file %}
            output_file="{{task.output_file}}",{% endif %}
        )
{% endfor %}